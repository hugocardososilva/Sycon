<?xml version="1.0" encoding="ISO-8859-1" ?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>

	<ui:composition template="/template/template.xhtml">
	<ui:define name="divMain">
		
	
		
		<h:form id="prestadores" modal="true">
		<p:messages autoUpdate="true"/>
		
		
			<p:panelGrid columns="3" >
			<p:commandButton value="Salvar" action="#{prestadorPessoaMB.salvarPessoa}" update=":prestadores" icon="fa fa-save" />
			<p:commandButton icon="fa fa-paint-brush"  value="Limpar" actionListener="#{prestadorPessoaMB.limparPrestador}" immediate="true" process="@none"  update=":prestadores :prestadores:painelImagemGrid">
				<p:resetInput target="prestadores"></p:resetInput>
			</p:commandButton>
			<p:commandButton icon="fa fa-close" value="Cancelar" action="#{prestadorPessoaMB.novoPrestador}" />
			
			</p:panelGrid>
			
			<p:panel>
				<p:panelGrid columns="2" id="painelImagemGrid" >
						<h:outputText value="Bloqueado?" style=" color:red;"/>		
						<p:selectBooleanButton id="value2" value="#{prestadorPessoaMB.prestador.bloqueado}" onLabel="Sim" offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:260px;">
         
      					  </p:selectBooleanButton>	
									
								
					</p:panelGrid>
					<p:spacer height="20px;"/>
			
			
			<p:panelGrid>
				<p:row>
					<p:column>
						<h:outputText value="Senha"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.prestador.senha}" required="true" 
									disabled="#{prestadorPessoaMB.editar== true or prestadorPessoaMB.novo == true ? false : false}" 
									label="Senha" >
									<f:validateLength minimum="6" maximum="6"/>
									</p:inputText>
					</p:column>
					<p:column>
							<h:outputText value="CPF"  />
												
					</p:column>
					<p:column>
							<p:inputText value="#{prestadorPessoaMB.prestador.cpf}" required="true" label="CPF" />			
					</p:column>
					<p:column rowspan="3">
						<p:graphicImage value="/../sysconImages/#{prestadorPessoaMB.prestador.foto}.jpeg" width="150px" height="130px"/>
					</p:column>
					<p:column rowspan="3">
							<p:commandButton icon="fa fa-camera" type="button" value="Capturar" onclick="PF('capturarImagemWidget').show();" update=":prestadores" rendered="#{empty prestadorPessoaMB.prestador.foto}"/>
									<p:commandButton value="Remover" onclick="PF('capturarImagemWidget').show();" update=":prestadores" rendered="#{not empty prestadorPessoaMB.prestador.foto}"/>
					</p:column>
					
				</p:row>	
				<p:row>
					<p:column>
					<h:outputText value="Nome"  />    
									
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.prestador.nome}" required="true" label="Nome" />
					</p:column>
				
					<p:column>
						<h:outputText value="Sobrenome"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.prestador.sobrenome}" required="true" label="Sobrenome" />
					</p:column>
					
					
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="RG"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.prestador.rg}" required="true" label="RG" />
					</p:column>
					<p:column>
						<h:outputText value="Órgão Expeditor"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.prestador.orgaoExpeditor}" required="true" label="Órgão Expeditor" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Endereço"  />
					</p:column>
					<p:column colspan="3">
						<p:inputText value="#{prestadorPessoaMB.informacao.endereco}" required="true" label="Endereco" style="width:98%" />	
					</p:column >
					<p:column>
						<h:outputText value="Número"  />	
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.informacao.numero}" label="Numero" style="width:98%" />		
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Bairro"  />
					</p:column>
					<p:column colspan="2">
						<p:inputText value="#{prestadorPessoaMB.informacao.bairro}"  label="Bairro" style="width:98%"/>
					</p:column>
					<p:column>
						<h:outputText value="Complemento"  />
					</p:column>
					<p:column colspan="2">
						<p:inputText value="#{prestadorPessoaMB.informacao.complemento}"  label="Complemento" style="width:98%"/>
					</p:column>
				
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Cidade"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.informacao.cidade}" label="Cidade" />
					</p:column>
					<p:column>
						<h:outputText value="Estado"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.informacao.estado}"  label="Estado" maxlength="2" size="2" />
					</p:column>
					<p:column>
						<h:outputText value="CEP"  />
					</p:column>
					<p:column>
						<p:inputText value="#{prestadorPessoaMB.informacao.cep}" label="CEP" style="width:98%"  />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Email"  />
					</p:column>
					<p:column colspan="2">
						<p:inputText value="#{prestadorPessoaMB.prestador.email}" required="true" label="Email" style="width:98%" />
					</p:column>
					<p:column>
						<p:outputLabel for="lotePessoaPrestadorId" value="Lote"  />
					</p:column >		
					<p:column colspan="2">					
						<p:selectOneMenu id="lotePessoaPrestadorId" value="#{prestadorPessoaMB.prestador.lote}" filter="true" filterMatchMode="contains" style="width:98%">
							 <f:selectItem itemLabel="Condomínio" itemValue="" />
							 <f:selectItems value="#{prestadorPessoaMB.lotes}"  var="lote" itemLabel="Lote #{lote.numero} Quadra #{lote.quadra} " itemValue="#{lote}"  />									
						</p:selectOneMenu>									
					</p:column>
				
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Horário de Entrada"  />
					</p:column>
					<p:column colspan="2">
						<p:calendar pattern="HH:mm" timeOnly="true"  value="#{prestadorPessoaMB.prestador.horaEntrada}" label="Horário de Entrada"  >
									
						</p:calendar>
					
					</p:column>
					<p:column>
						<h:outputText value="Horário de Saída"  />
					</p:column>
					<p:column colspan="2">
						<p:calendar pattern="HH:mm" timeOnly="true"  value="#{prestadorPessoaMB.prestador.horaSaida}" label="Horário de Saída" >
									
						</p:calendar>
					</p:column>
					
				
				</p:row>
			
			
			</p:panelGrid>
		
					</p:panel>			
					<p:panel id="telPessoa" toggleable="true" header="Telefones" style="margin-bottom:20px">
						<p:panelGrid columns="2">
							<p:dataTable id="telefonesPessoa" var="tel" value="#{prestadorPessoaMB.prestador.telefones}"
							emptyMessage="Não existem registros" rows="5" paginator="true">
							<f:facet name="header">
								 <p:outputPanel style="float:left;">
								 		<p:commandButton icon="fa fa-plus" type="button"  onclick="PF('novoTelefoneWidiget').show();" update=":novoTelefonePessoaForm" styleClass="ui-priority-primary" />
								 		
								 </p:outputPanel>
							</f:facet>
							
							<p:column headerText="DDD">
								<h:outputText value="#{tel.ddd}"/>
								
							</p:column>
							<p:column headerText="Número">
								<h:outputText value="#{tel.numero}"/>
								
							</p:column>
							<p:column headerText="Observações">
								<h:outputText value="#{tel.observacoes}"/>
								
							</p:column>
							<p:column headerText="Opções" style="width:100px;">
								<p:commandButton value="Adicionar Telefone" action="#{prestadorPessoaMB.novoPrestador}"/>
								
							</p:column>
							
							</p:dataTable>
						</p:panelGrid>
					</p:panel>
					<p:panel id="tipoServico" toggleable="true" header="Tipos de Serviço" style="margin-bottom:20px">
						<p:panelGrid columns="2">
							<p:dataTable id="tipoServicoPessoa" var="tipo" value="#{prestadorPessoaMB.prestador.tipos}"
							emptyMessage="Não existem registros" rows="5" paginator="true">
							<f:facet name="header">
								 <p:outputPanel style="float:left;">
								 		<p:commandButton  icon="fa fa-plus" type="button"  onclick="PF('tipoServicoPessoaWidget').show();" update=":tipoServicoPrestadorForm" styleClass="ui-priority-primary" />
								 </p:outputPanel>
							</f:facet>
							
							<p:column headerText="Tipo">
								<h:outputText value="#{tipo.tipo}"/>
								
							</p:column>
							<p:column headerText="Descrição">
								<h:outputText value="#{tipo.descricao}"/>
								
							</p:column>
							<p:column headerText="Opções" style="width:100px;">
								<p:commandButton value="Remover" action="#{prestadorPessoaMB.removerTipoServico}" immediate="true" update=":prestadores:tipoServico" >
								<f:setPropertyActionListener value="#{tipo}" target="#{prestadorPessoaMB.tipoServico}"></f:setPropertyActionListener>
								</p:commandButton>
								
							</p:column>
							
							</p:dataTable>
						</p:panelGrid>
					</p:panel>
			
		</h:form>
	
	
		
		
		
		<ui:include src="/protected/funcionario/dialogs/novo-telefone.xhtml"/>
		<ui:include src="/protected/funcionario/dialogs/tipos-servico-pessoa.xhtml"/>
			<ui:include src="/protected/funcionario/dialogs/capturar-imagem.xhtml"/>
		
		</ui:define>
		
		
		
		<ui:define name="divLeft">
		<ui:include src="/protected/funcionario/menu.xhtml"/>
		
		
		</ui:define>
	</ui:composition>
	
</h:body>
</html>